{"ast":null,"code":"import _classCallCheck from\"D:\\\\Users\\\\swizzle1999\\\\Documents\\\\Programming\\\\MERN\\\\cm4025\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\Users\\\\swizzle1999\\\\Documents\\\\Programming\\\\MERN\\\\cm4025\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"D:\\\\Users\\\\swizzle1999\\\\Documents\\\\Programming\\\\MERN\\\\cm4025\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"D:\\\\Users\\\\swizzle1999\\\\Documents\\\\Programming\\\\MERN\\\\cm4025\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"D:\\\\Users\\\\swizzle1999\\\\Documents\\\\Programming\\\\MERN\\\\cm4025\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _taggedTemplateLiteral from\"D:\\\\Users\\\\swizzle1999\\\\Documents\\\\Programming\\\\MERN\\\\cm4025\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject3(){var data=_taggedTemplateLiteral([\"\\n    height: auto;\\n    width: 30%;\\n\"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral([\"\\nheight: auto;\\nwidth: 15%;\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\n.nav-link{\\n    color: #FFFFFF !important;\\n}\\n\\n.navbar{\\n    background-color: #272727 !important;\\n}\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React from'react';import Button from\"react-bootstrap/Button\";import Navbar from\"react-bootstrap/Navbar\";import Nav from\"react-bootstrap/Nav\";import NavbarBrand from\"react-bootstrap/NavbarBrand\";import Accordion from\"react-bootstrap/Accordion\";import Modal from\"react-bootstrap/Modal\";import Card from\"react-bootstrap/Card\";import AccordionToggle from'react-bootstrap/AccordionToggle';import Table from'react-bootstrap/Table';import Form from'react-bootstrap/Form';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faSignOutAlt}from'@fortawesome/free-solid-svg-icons';import{faBoxOpen}from'@fortawesome/free-solid-svg-icons';import{faCoins}from'@fortawesome/free-solid-svg-icons';import styled from\"styled-components\";import logo from\"../images/pokepacksonline.png\";import PackListCardComponent from\"./PackListCardComponent\";var fetch=require(\"node-fetch\");var checkForLocalToken=require(\"../utils/checkForLocalToken\");var Styles=styled.div(_templateObject());var Logo=styled.img(_templateObject2());var Img=styled.img(_templateObject3());var PackListComponent=/*#__PURE__*/function(_React$Component){_inherits(PackListComponent,_React$Component);function PackListComponent(props){var _this;_classCallCheck(this,PackListComponent);_this=_possibleConstructorReturn(this,_getPrototypeOf(PackListComponent).call(this,props));_this.propertyChange=function(event,rarityName){for(var i=0;i<_this.state.rarities.length;i++){if(_this.state.rarities[i][0]==rarityName){var rarities=_this.state.rarities;rarities[i][1]=event.target.value;_this.setState({rarities:rarities});}}};_this.costChange=function(event){_this.setState({cost:event.target.value});};_this.renderProperties=function(){console.log(\"ran\");_this.setState({costProperty:React.createElement(\"tr\",null,React.createElement(\"td\",null,\"Cost\"),React.createElement(\"td\",null,React.createElement(Form.Control,{type:\"string\",placeholder:\"\",onChange:_this.costChange})))});_this.setState({packProperties:_this.state.rarities.map(function(rarity){return React.createElement(\"tr\",null,React.createElement(\"td\",null,rarity[0]),React.createElement(\"td\",null,React.createElement(Form.Control,{type:\"string\",placeholder:\"\",onChange:function onChange(e){return _this.propertyChange(e,rarity[0]);}})));})});//return this.state.rarityNames.map(card => <tr>hello</tr>)\n};_this.submitProperties=function(){console.log(_this.state.cost);console.log(_this.state.rarities);var dataToPost={};dataToPost[\"cost\"]=_this.state.cost;for(var i=0;i<_this.state.rarities.length;i++){dataToPost[_this.state.rarities[i][0]]=_this.state.rarities[i][1];}dataToPost=JSON.stringify(dataToPost);checkForLocalToken.checkForLocalTokenNoUserObject().then(function(returnObject){if(returnObject!=null){fetch(\"api/packs/setproperties/\"+_this.props.code+\"/\",{method:\"POST\",body:dataToPost,headers:{\"Content-Type\":\"application/json\",\"x-auth-token\":returnObject.token}}).then(function(res){return res.json();}).then(function(json){_this.setState({informationMessage:json.msg});});}});};_this.state={rarities:[],cost:0,packProperties:null,costProperty:null,informationMessage:\"\"};return _this;}_createClass(PackListComponent,[{key:\"componentDidMount\",value:function componentDidMount(){var rarities=this.state.rarities;for(var key in this.props.rarities){if(this.props.rarities.hasOwnProperty(key)){rarities.push([key,this.props.rarities[key]]);}}this.setState({rarities:rarities});}},{key:\"render\",value:function render(){return React.createElement(\"div\",null,React.createElement(Card,null,React.createElement(Card.Header,null,React.createElement(AccordionToggle,{as:Button,onClick:this.renderProperties,variant:\"link\",eventKey:this.props.code+\"Server\"},this.props.name,React.createElement(Logo,{style:{marginLeft:\"0.5rem\",marginRight:\"0.5rem\"},src:\"https://cm4025.s3.amazonaws.com/packs/\"+this.props.code+\"/\"+this.props.code+\"Logo.jpg\"})),React.createElement(\"br\",null)),React.createElement(Accordion.Collapse,{eventKey:this.props.code+\"Server\"},React.createElement(Card.Body,null,React.createElement(Table,{striped:true,bordered:true,hover:true},React.createElement(\"thead\",null,React.createElement(\"tr\",null,React.createElement(\"th\",null,\"Property Name\"),React.createElement(\"th\",null,\"Value\"))),React.createElement(\"tbody\",null,this.state.costProperty,this.state.packProperties)),React.createElement(\"h3\",null,this.state.informationMessage),React.createElement(Button,{onClick:this.submitProperties},\"Submit\")))));}}]);return PackListComponent;}(React.Component);export{PackListComponent as default};","map":{"version":3,"sources":["D:/Users/swizzle1999/Documents/Programming/MERN/cm4025/client/src/components/AdminPackListComponent.js"],"names":["React","Button","Navbar","Nav","NavbarBrand","Accordion","Modal","Card","AccordionToggle","Table","Form","FontAwesomeIcon","faSignOutAlt","faBoxOpen","faCoins","styled","logo","PackListCardComponent","fetch","require","checkForLocalToken","Styles","div","Logo","img","Img","PackListComponent","props","propertyChange","event","rarityName","i","state","rarities","length","target","value","setState","costChange","cost","renderProperties","console","log","costProperty","packProperties","map","rarity","e","submitProperties","dataToPost","JSON","stringify","checkForLocalTokenNoUserObject","then","returnObject","code","method","body","headers","token","res","json","informationMessage","msg","key","hasOwnProperty","push","name","marginLeft","marginRight","Component"],"mappings":"ogDAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,wBAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,wBAAnB,CACA,MAAOC,CAAAA,GAAP,KAAgB,qBAAhB,CACA,MAAOC,CAAAA,WAAP,KAAwB,6BAAxB,CACA,MAAOC,CAAAA,SAAP,KAAsB,2BAAtB,CACA,MAAOC,CAAAA,KAAP,KAAkB,uBAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,sBAAjB,CACA,MAAOC,CAAAA,eAAP,KAA4B,iCAA5B,CACA,MAAOC,CAAAA,KAAP,KAAkB,uBAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,sBAAjB,CACA,OAASC,eAAT,KAAgC,gCAAhC,CACA,OAASC,YAAT,KAA6B,mCAA7B,CACA,OAASC,SAAT,KAA0B,mCAA1B,CACA,OAASC,OAAT,KAAwB,mCAAxB,CAEA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CAEA,MAAOC,CAAAA,IAAP,KAAiB,+BAAjB,CAEA,MAAOC,CAAAA,qBAAP,KAAkC,yBAAlC,CAEA,GAAMC,CAAAA,KAAK,CAAGC,OAAO,CAAC,YAAD,CAArB,CACA,GAAMC,CAAAA,kBAAkB,CAAGD,OAAO,CAAC,6BAAD,CAAlC,CAGA,GAAME,CAAAA,MAAM,CAAGN,MAAM,CAACO,GAAV,mBAAZ,CAUA,GAAMC,CAAAA,IAAI,CAAGR,MAAM,CAACS,GAAV,oBAAV,CAKA,GAAMC,CAAAA,GAAG,CAAGV,MAAM,CAACS,GAAV,oBAAT,C,GAKqBE,CAAAA,iB,uFACjB,2BAAYC,KAAZ,CAAkB,mDACd,mFAAMA,KAAN,GADc,MAyBlBC,cAzBkB,CAyBD,SAACC,KAAD,CAAQC,UAAR,CAAuB,CACpC,IAAK,GAAIC,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAG,MAAKC,KAAL,CAAWC,QAAX,CAAoBC,MAAxC,CAAgDH,CAAC,EAAjD,CAAoD,CAChD,GAAI,MAAKC,KAAL,CAAWC,QAAX,CAAoBF,CAApB,EAAuB,CAAvB,GAA6BD,UAAjC,CAA4C,CACxC,GAAIG,CAAAA,QAAQ,CAAG,MAAKD,KAAL,CAAWC,QAA1B,CACAA,QAAQ,CAACF,CAAD,CAAR,CAAY,CAAZ,EAAiBF,KAAK,CAACM,MAAN,CAAaC,KAA9B,CACA,MAAKC,QAAL,CAAc,CAACJ,QAAQ,CAAEA,QAAX,CAAd,EACH,CACJ,CACJ,CAjCiB,OAmClBK,UAnCkB,CAmCL,SAACT,KAAD,CAAW,CACpB,MAAKQ,QAAL,CAAc,CAACE,IAAI,CAAEV,KAAK,CAACM,MAAN,CAAaC,KAApB,CAAd,EACH,CArCiB,OAuClBI,gBAvCkB,CAuCC,UAAM,CACrBC,OAAO,CAACC,GAAR,CAAY,KAAZ,EACA,MAAKL,QAAL,CAAc,CACVM,YAAY,CAAE,8BAAI,qCAAJ,CAAiB,8BAAI,oBAAC,IAAD,CAAM,OAAN,EAAc,IAAI,CAAC,QAAnB,CAA4B,WAAW,CAAC,EAAxC,CAA2C,QAAQ,CAAE,MAAKL,UAA1D,EAAJ,CAAjB,CADJ,CAAd,EAGA,MAAKD,QAAL,CAAc,CACVO,cAAc,CAAE,MAAKZ,KAAL,CAAWC,QAAX,CAAoBY,GAApB,CAAwB,SAAAC,MAAM,QAAI,+BAAI,8BAAKA,MAAM,CAAC,CAAD,CAAX,CAAJ,CAAwB,8BAAI,oBAAC,IAAD,CAAM,OAAN,EAAc,IAAI,CAAC,QAAnB,CAA4B,WAAW,CAAC,EAAxC,CAA2C,QAAQ,CAAE,kBAACC,CAAD,QAAO,OAAKnB,cAAL,CAAoBmB,CAApB,CAAuBD,MAAM,CAAC,CAAD,CAA7B,CAAP,EAArD,EAAJ,CAAxB,CAAJ,EAA9B,CADN,CAAd,EAGA;AAEH,CAjDiB,OAmDlBE,gBAnDkB,CAmDC,UAAM,CACrBP,OAAO,CAACC,GAAR,CAAY,MAAKV,KAAL,CAAWO,IAAvB,EACAE,OAAO,CAACC,GAAR,CAAY,MAAKV,KAAL,CAAWC,QAAvB,EAEA,GAAIgB,CAAAA,UAAU,CAAG,EAAjB,CAEAA,UAAU,CAAC,MAAD,CAAV,CAAqB,MAAKjB,KAAL,CAAWO,IAAhC,CAEA,IAAK,GAAIR,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAG,MAAKC,KAAL,CAAWC,QAAX,CAAoBC,MAAxC,CAAgDH,CAAC,EAAjD,CAAoD,CAChDkB,UAAU,CAAC,MAAKjB,KAAL,CAAWC,QAAX,CAAoBF,CAApB,EAAuB,CAAvB,CAAD,CAAV,CAAwC,MAAKC,KAAL,CAAWC,QAAX,CAAoBF,CAApB,EAAuB,CAAvB,CAAxC,CACH,CAEDkB,UAAU,CAAGC,IAAI,CAACC,SAAL,CAAeF,UAAf,CAAb,CAEA7B,kBAAkB,CAACgC,8BAAnB,GACCC,IADD,CACM,SAAAC,YAAY,CAAI,CAClB,GAAIA,YAAY,EAAI,IAApB,CAAyB,CACrBpC,KAAK,CAAC,2BAA6B,MAAKS,KAAL,CAAW4B,IAAxC,CAA+C,GAAhD,CAAqD,CAACC,MAAM,CAAE,MAAT,CAAiBC,IAAI,CAAER,UAAvB,CAAmCS,OAAO,CAAC,CAAC,eAAgB,kBAAjB,CAAqC,eAAgBJ,YAAY,CAACK,KAAlE,CAA3C,CAArD,CAAL,CACCN,IADD,CACM,SAAAO,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EADT,EAECR,IAFD,CAEM,SAAAQ,IAAI,CAAI,CACV,MAAKxB,QAAL,CAAc,CAACyB,kBAAkB,CAAED,IAAI,CAACE,GAA1B,CAAd,EACH,CAJD,EAKH,CACJ,CATD,EAWH,CA5EiB,CAGd,MAAK/B,KAAL,CAAa,CACTC,QAAQ,CAAE,EADD,CAETM,IAAI,CAAE,CAFG,CAGTK,cAAc,CAAE,IAHP,CAITD,YAAY,CAAE,IAJL,CAKTmB,kBAAkB,CAAE,EALX,CAAb,CAHc,aAUjB,C,2FAEkB,CACf,GAAI7B,CAAAA,QAAQ,CAAG,KAAKD,KAAL,CAAWC,QAA1B,CACA,IAAI,GAAI+B,CAAAA,GAAR,GAAe,MAAKrC,KAAL,CAAWM,QAA1B,CAAmC,CAC/B,GAAI,KAAKN,KAAL,CAAWM,QAAX,CAAoBgC,cAApB,CAAmCD,GAAnC,CAAJ,CAA4C,CACxC/B,QAAQ,CAACiC,IAAT,CAAc,CAACF,GAAD,CAAM,KAAKrC,KAAL,CAAWM,QAAX,CAAoB+B,GAApB,CAAN,CAAd,EACH,CACJ,CAED,KAAK3B,QAAL,CAAc,CACVJ,QAAQ,CAAEA,QADA,CAAd,EAGH,C,uCAyDQ,CACL,MACI,gCACI,oBAAC,IAAD,MACI,oBAAC,IAAD,CAAM,MAAN,MACI,oBAAC,eAAD,EAAiB,EAAE,CAAEhC,MAArB,CAA6B,OAAO,CAAE,KAAKuC,gBAA3C,CAA6D,OAAO,CAAC,MAArE,CAA4E,QAAQ,CAAE,KAAKb,KAAL,CAAW4B,IAAX,CAAgB,QAAtG,EACK,KAAK5B,KAAL,CAAWwC,IADhB,CAEI,oBAAC,IAAD,EAAM,KAAK,CAAE,CAACC,UAAU,CAAE,QAAb,CAAuBC,WAAW,CAAE,QAApC,CAAb,CAA2D,GAAG,CAAE,yCAA2C,KAAK1C,KAAL,CAAW4B,IAAtD,CAA6D,GAA7D,CAAmE,KAAK5B,KAAL,CAAW4B,IAA9E,CAAqF,UAArJ,EAFJ,CADJ,CAKI,8BALJ,CADJ,CAQI,oBAAC,SAAD,CAAW,QAAX,EAAoB,QAAQ,CAAE,KAAK5B,KAAL,CAAW4B,IAAX,CAAgB,QAA9C,EACI,oBAAC,IAAD,CAAM,IAAN,MACI,oBAAC,KAAD,EAAO,OAAO,KAAd,CAAe,QAAQ,KAAvB,CAAwB,KAAK,KAA7B,EACI,iCACI,8BACI,8CADJ,CAEI,sCAFJ,CADJ,CADJ,CAOI,iCACK,KAAKvB,KAAL,CAAWW,YADhB,CAEK,KAAKX,KAAL,CAAWY,cAFhB,CAPJ,CADJ,CAaI,8BAAK,KAAKZ,KAAL,CAAW8B,kBAAhB,CAbJ,CAcI,oBAAC,MAAD,EAAQ,OAAO,CAAE,KAAKd,gBAAtB,WAdJ,CADJ,CARJ,CADJ,CADJ,CA+BH,C,+BAjH0ChD,KAAK,CAACsE,S,SAAhC5C,iB","sourcesContent":["import React from 'react';\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Navbar from \"react-bootstrap/Navbar\";\r\nimport Nav from \"react-bootstrap/Nav\";\r\nimport NavbarBrand from \"react-bootstrap/NavbarBrand\";\r\nimport Accordion from \"react-bootstrap/Accordion\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport AccordionToggle from 'react-bootstrap/AccordionToggle';\r\nimport Table from 'react-bootstrap/Table';\r\nimport Form from 'react-bootstrap/Form';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faSignOutAlt } from '@fortawesome/free-solid-svg-icons'\r\nimport { faBoxOpen } from '@fortawesome/free-solid-svg-icons'\r\nimport { faCoins } from '@fortawesome/free-solid-svg-icons'\r\n\r\nimport styled from \"styled-components\";\r\n\r\nimport logo from \"../images/pokepacksonline.png\"\r\n\r\nimport PackListCardComponent from \"./PackListCardComponent\";\r\n\r\nconst fetch = require(\"node-fetch\");\r\nconst checkForLocalToken = require(\"../utils/checkForLocalToken\");\r\n\r\n\r\nconst Styles = styled.div`\r\n.nav-link{\r\n    color: #FFFFFF !important;\r\n}\r\n\r\n.navbar{\r\n    background-color: #272727 !important;\r\n}\r\n`\r\n\r\nconst Logo = styled.img`\r\nheight: auto;\r\nwidth: 15%;\r\n`\r\n\r\nconst Img = styled.img`\r\n    height: auto;\r\n    width: 30%;\r\n`\r\n\r\nexport default class PackListComponent extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            rarities: [],\r\n            cost: 0,\r\n            packProperties: null,\r\n            costProperty: null,\r\n            informationMessage: \"\",\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        let rarities = this.state.rarities\r\n        for(var key in this.props.rarities){\r\n            if (this.props.rarities.hasOwnProperty(key)){\r\n                rarities.push([key, this.props.rarities[key]])\r\n            }\r\n        }\r\n\r\n        this.setState({\r\n            rarities: rarities\r\n        })\r\n    }\r\n\r\n    propertyChange = (event, rarityName) => {\r\n        for (let i = 0; i < this.state.rarities.length; i++){\r\n            if (this.state.rarities[i][0] == rarityName){\r\n                let rarities = this.state.rarities;\r\n                rarities[i][1] = event.target.value\r\n                this.setState({rarities: rarities})\r\n            }\r\n        }\r\n    }\r\n\r\n    costChange = (event) => {\r\n        this.setState({cost: event.target.value})\r\n    }\r\n\r\n    renderProperties = () => {\r\n        console.log(\"ran\")\r\n        this.setState({\r\n            costProperty: <tr><td>Cost</td><td><Form.Control type=\"string\" placeholder=\"\" onChange={this.costChange}/></td></tr>\r\n        })\r\n        this.setState({\r\n            packProperties: this.state.rarities.map(rarity => <tr><td>{rarity[0]}</td><td><Form.Control type=\"string\" placeholder=\"\" onChange={(e) => this.propertyChange(e, rarity[0])}/></td></tr>)\r\n        })\r\n        //return this.state.rarityNames.map(card => <tr>hello</tr>)\r\n        \r\n    }\r\n\r\n    submitProperties = () => {\r\n        console.log(this.state.cost)\r\n        console.log(this.state.rarities)\r\n\r\n        let dataToPost = {}\r\n\r\n        dataToPost[\"cost\"] = this.state.cost;\r\n\r\n        for (let i = 0; i < this.state.rarities.length; i++){\r\n            dataToPost[this.state.rarities[i][0]] = this.state.rarities[i][1]\r\n        }\r\n\r\n        dataToPost = JSON.stringify(dataToPost)\r\n\r\n        checkForLocalToken.checkForLocalTokenNoUserObject()\r\n        .then(returnObject => {\r\n            if (returnObject != null){\r\n                fetch(\"api/packs/setproperties/\" + this.props.code + \"/\", {method: \"POST\", body: dataToPost, headers:{\"Content-Type\": \"application/json\", \"x-auth-token\": returnObject.token}})\r\n                .then(res => res.json())\r\n                .then(json => {\r\n                    this.setState({informationMessage: json.msg})\r\n                });\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n\r\n   \r\n    render() {\r\n        return (\r\n            <div>\r\n                <Card>\r\n                    <Card.Header>\r\n                        <AccordionToggle as={Button} onClick={this.renderProperties} variant=\"link\" eventKey={this.props.code+\"Server\"}>\r\n                            {this.props.name}  \r\n                            <Logo style={{marginLeft: \"0.5rem\", marginRight: \"0.5rem\"}}src={\"https://cm4025.s3.amazonaws.com/packs/\" + this.props.code + \"/\" + this.props.code + \"Logo.jpg\"}/>\r\n                        </AccordionToggle>\r\n                        <br></br>\r\n                    </Card.Header>\r\n                    <Accordion.Collapse eventKey={this.props.code+\"Server\"}>\r\n                        <Card.Body>\r\n                            <Table striped bordered hover>\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th>Property Name</th>\r\n                                        <th>Value</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {this.state.costProperty}\r\n                                    {this.state.packProperties} \r\n                                </tbody>\r\n                            </Table>\r\n                            <h3>{this.state.informationMessage}</h3>\r\n                            <Button onClick={this.submitProperties}>Submit</Button>\r\n                        </Card.Body>\r\n                    </Accordion.Collapse>\r\n                </Card>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}