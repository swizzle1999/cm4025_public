{"ast":null,"code":"var _jsxFileName = \"D:\\\\Users\\\\swizzle1999\\\\Documents\\\\Programming\\\\MERN\\\\cm4025\\\\client\\\\src\\\\components\\\\AddPackComponent.js\";\nimport React from 'react';\nimport Button from \"react-bootstrap/Button\";\nimport Form from \"react-bootstrap/Form\";\n\nconst fetch = require(\"node-fetch\");\n\nconst checkForLocalToken = require(\"../utils/checkForLocalToken\"); //function that deals with adding a pack.\n//This is an admin only accessible component that is protected by requiring an admin token when it is processed on the server end\n\n\nexport default class AddPackComponent extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handlePackIDInputChange = event => {\n      this.setState({\n        packCode: event.target.value\n      });\n    };\n\n    this.handlePackIDSubmit = event => {\n      this.setState({\n        informationMessage: \"Processing...\"\n      }); //Quick authentication check to ensure the user is authenticated\n      //There is actually no need to check if the user is an admin here since the fetch request farther down the the API will check that for us\n\n      checkForLocalToken.checkForLocalTokenNoUserObject().then(returnObject => {\n        if (returnObject != null) {\n          this.setState({\n            token: returnObject.token\n          });\n        }\n      }).then(() => {\n        //API call to add the pack, sends the users token along to verify it is an admin\n        fetch(\"/api/packs/addpack/\" + this.state.packCode, {\n          method: \"GET\",\n          headers: {\n            \"accepts\": \"application/json\",\n            \"x-auth-token\": this.state.token\n          }\n        }).then(res => res.json()).then(json => {\n          this.setState({\n            informationMessage: json.msg\n          }); //Old legacy code from when this was a non admin function\n          //Kept it around as i felt it would be usefull for reference elsewhere\n          // if (json.rarities){\n          //     let rarities = []\n          //     //it should be noted that \n          //     rarities.push(\n          //         <Form.Group controlId=\"cost\">\n          //             <div className=\"d-flex align-items-center\"> \n          //                 <p style={{color: \"white\"}}>Cost: </p> <Form.Control onChange={(e) => this.handleRarityInputChange(e, \"cost\")} style={{marginRight: \"0.5rem\"}} type=\"number\" placeholder=\"\"/>\n          //             </div>\n          //         </Form.Group>\n          //     )\n          //     json.rarities.forEach(rarity => {\n          //         rarities.push(\n          //             <Form.Group controlId={rarity}>\n          //                 <div className=\"d-flex align-items-center\"> \n          //                     <p style={{color: \"white\"}}>{rarity} Rarity: </p> <Form.Control onChange={(e) => this.handleRarityInputChange(e, rarity)} style={{marginRight: \"0.5rem\"}} type=\"number\" placeholder=\"\"/>\n          //                 </div>\n          //             </Form.Group>\n          //         )\n          //     })\n          //     rarities.push(<Button onClick={this.handleRaritySubmit}>Submit</Button>)\n          //     this.setState({\n          //         rarityForms: rarities\n          //     })\n          // }\n        });\n      });\n    };\n\n    this.state = {\n      packCode: \"\",\n      informationMessage: \"\",\n      rarityForms: null,\n      allRarities: {}\n    };\n  } //Just handles chanegs to the input box and sets the state to the new text in the input box\n\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(Form, {\n      className: \"custom-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      controlId: \"packId\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      style: {\n        color: \"white\",\n        width: \"100%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"Pack ID\"), React.createElement(\"div\", {\n      className: \"d-flex align-items-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(Form.Control, {\n      style: {\n        marginRight: \"0.5rem\"\n      },\n      type: \"string\",\n      placeholder: \"\",\n      onChange: this.handlePackIDInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }), React.createElement(Button, {\n      variant: \"primary\",\n      onClick: this.handlePackIDSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"Add\")), React.createElement(\"h2\", {\n      style: {\n        color: \"white\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, this.state.informationMessage))));\n  }\n\n}","map":{"version":3,"sources":["D:/Users/swizzle1999/Documents/Programming/MERN/cm4025/client/src/components/AddPackComponent.js"],"names":["React","Button","Form","fetch","require","checkForLocalToken","AddPackComponent","Component","constructor","props","handlePackIDInputChange","event","setState","packCode","target","value","handlePackIDSubmit","informationMessage","checkForLocalTokenNoUserObject","then","returnObject","token","state","method","headers","res","json","msg","rarityForms","allRarities","render","color","width","marginRight"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Form from \"react-bootstrap/Form\";\r\n\r\nconst fetch = require(\"node-fetch\");\r\nconst checkForLocalToken = require(\"../utils/checkForLocalToken\");\r\n\r\n//function that deals with adding a pack.\r\n//This is an admin only accessible component that is protected by requiring an admin token when it is processed on the server end\r\nexport default class AddPackComponent extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            packCode: \"\",\r\n            informationMessage: \"\",\r\n            rarityForms: null,\r\n            allRarities: {},\r\n          }\r\n    }\r\n\r\n    //Just handles chanegs to the input box and sets the state to the new text in the input box\r\n    handlePackIDInputChange = (event) =>{\r\n        this.setState({\r\n            packCode: event.target.value\r\n        })\r\n    }\r\n\r\n    //The function that handles a submit when a user wants to add a new pack\r\n    handlePackIDSubmit = (event) => {\r\n        this.setState({\r\n            informationMessage: \"Processing...\",\r\n        })\r\n\r\n        //Quick authentication check to ensure the user is authenticated\r\n        //There is actually no need to check if the user is an admin here since the fetch request farther down the the API will check that for us\r\n        checkForLocalToken.checkForLocalTokenNoUserObject()\r\n        .then(returnObject => {\r\n          if (returnObject != null){\r\n            this.setState({\r\n              token: returnObject.token,\r\n          })\r\n          }\r\n        })\r\n        .then(() => {\r\n            //API call to add the pack, sends the users token along to verify it is an admin\r\n            fetch(\"/api/packs/addpack/\" + this.state.packCode, {method: \"GET\", headers:{\"accepts\": \"application/json\", \"x-auth-token\": this.state.token}})\r\n            .then(res => res.json())\r\n            .then(json => {\r\n                this.setState({\r\n                    informationMessage: json.msg\r\n                })\r\n\r\n                //Old legacy code from when this was a non admin function\r\n                //Kept it around as i felt it would be usefull for reference elsewhere\r\n                \r\n                // if (json.rarities){\r\n                //     let rarities = []\r\n                //     //it should be noted that \r\n                //     rarities.push(\r\n                //         <Form.Group controlId=\"cost\">\r\n                //             <div className=\"d-flex align-items-center\"> \r\n                //                 <p style={{color: \"white\"}}>Cost: </p> <Form.Control onChange={(e) => this.handleRarityInputChange(e, \"cost\")} style={{marginRight: \"0.5rem\"}} type=\"number\" placeholder=\"\"/>\r\n                //             </div>\r\n                //         </Form.Group>\r\n                //     )\r\n\r\n                //     json.rarities.forEach(rarity => {\r\n                //         rarities.push(\r\n                //             <Form.Group controlId={rarity}>\r\n                //                 <div className=\"d-flex align-items-center\"> \r\n                //                     <p style={{color: \"white\"}}>{rarity} Rarity: </p> <Form.Control onChange={(e) => this.handleRarityInputChange(e, rarity)} style={{marginRight: \"0.5rem\"}} type=\"number\" placeholder=\"\"/>\r\n                //                 </div>\r\n                //             </Form.Group>\r\n                //         )\r\n                //     })\r\n                //     rarities.push(<Button onClick={this.handleRaritySubmit}>Submit</Button>)\r\n                //     this.setState({\r\n                //         rarityForms: rarities\r\n                //     })\r\n                // }\r\n            });\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Form className=\"custom-form\">\r\n                    <Form.Group controlId=\"packId\">\r\n                    <Form.Label style={{color: \"white\" ,width: \"100%\"}}>Pack ID</Form.Label>\r\n                        <div className=\"d-flex align-items-center\"> \r\n                            <Form.Control style={{marginRight: \"0.5rem\"}} type=\"string\" placeholder=\"\" onChange={this.handlePackIDInputChange}/>\r\n                            <Button variant=\"primary\" onClick={this.handlePackIDSubmit}>\r\n                                Add\r\n                            </Button>\r\n                        </div>\r\n                        <h2 style={{color :\"white\"}}>{this.state.informationMessage}</h2>\r\n                    </Form.Group>\r\n                </Form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}