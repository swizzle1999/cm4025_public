{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\Users\\\\swizzle1999\\\\Documents\\\\Programming\\\\MERN\\\\cm4025\\\\client\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\Users\\\\swizzle1999\\\\Documents\\\\Programming\\\\MERN\\\\cm4025\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"D:\\\\Users\\\\swizzle1999\\\\Documents\\\\Programming\\\\MERN\\\\cm4025\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\Users\\\\swizzle1999\\\\Documents\\\\Programming\\\\MERN\\\\cm4025\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"D:\\\\Users\\\\swizzle1999\\\\Documents\\\\Programming\\\\MERN\\\\cm4025\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"D:\\\\Users\\\\swizzle1999\\\\Documents\\\\Programming\\\\MERN\\\\cm4025\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"D:\\\\Users\\\\swizzle1999\\\\Documents\\\\Programming\\\\MERN\\\\cm4025\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _taggedTemplateLiteral from\"D:\\\\Users\\\\swizzle1999\\\\Documents\\\\Programming\\\\MERN\\\\cm4025\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject3(){var data=_taggedTemplateLiteral([\"\\n    height: auto;\\n    width: 30%;\\n\"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral([\"\\nheight: auto;\\nwidth: 15%;\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\n.nav-link{\\n    color: #FFFFFF !important;\\n}\\n\\n.navbar{\\n    background-color: #272727 !important;\\n}\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React from'react';import Button from\"react-bootstrap/Button\";import Navbar from\"react-bootstrap/Navbar\";import Nav from\"react-bootstrap/Nav\";import NavbarBrand from\"react-bootstrap/NavbarBrand\";import Accordion from\"react-bootstrap/Accordion\";import Modal from\"react-bootstrap/Modal\";import Card from\"react-bootstrap/Card\";import Form from\"react-bootstrap/Form\";import Row from\"react-bootstrap/Row\";import AccordionToggle from'react-bootstrap/AccordionToggle';import Table from'react-bootstrap/Table';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faSignOutAlt}from'@fortawesome/free-solid-svg-icons';import{faBoxOpen}from'@fortawesome/free-solid-svg-icons';import{faCoins}from'@fortawesome/free-solid-svg-icons';import styled from\"styled-components\";import AddPackComponent from\"./AddPackComponent\";import AdminPackListComponent from\"./AdminPackListComponent\";var fetch=require(\"node-fetch\");var checkForLocalToken=require(\"../utils/checkForLocalToken\");var Styles=styled.div(_templateObject());var Logo=styled.img(_templateObject2());var Img=styled.img(_templateObject3());var AdminComponent=/*#__PURE__*/function(_React$Component){_inherits(AdminComponent,_React$Component);function AdminComponent(props){var _this;_classCallCheck(this,AdminComponent);_this=_possibleConstructorReturn(this,_getPrototypeOf(AdminComponent).call(this,props));_this.handleInputChange=function(event){_this.setState({packCode:event.target.value});};_this.handleSubmit=function(event){_this.setState({informationMessage:\"Processing...\"});checkForLocalToken.checkForLocalTokenNoUserObject().then(function(returnObject){if(returnObject!=null){_this.setState({token:returnObject.token});}}).then(function(){fetch(\"/api/packs/addpack/\"+_this.state.packCode,{method:\"GET\",headers:{\"accepts\":\"application/json\",\"x-auth-token\":_this.state.token}}).then(function(res){return res.json();}).then(function(json){_this.setState({informationMessage:json.msg});});});};_this.state={packs:[]};return _this;}_createClass(AdminComponent,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;checkForLocalToken.checkForLocalTokenNoUserObject().then(function(returnObject){if(returnObject!=null){fetch(\"/api/packs/?allPacks=true\",{method:\"GET\",headers:{\"accepts\":\"application/json\",\"x-auth-token\":returnObject.token}}).then(function(res){return res.json();}).then(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(json){var i,packArray;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(json.packs){for(i=0;i<json.packs.length;i++){packArray=_this2.state.packs;packArray.push(json.packs[i]);_this2.setState({packs:packArray});}}case 1:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());}});}},{key:\"renderPacks\",value:function renderPacks(packs){return packs.map(function(pack){return React.createElement(AdminPackListComponent,{key:pack.code,code:pack.code,name:pack.name,rarities:pack.rarityOdds});});}},{key:\"componentDidUpdate\",value:function componentDidUpdate(){console.log(this.state.packs);}},{key:\"render\",value:function render(){return React.createElement(\"div\",null,React.createElement(AddPackComponent,null),this.renderPacks(this.state.packs));}}]);return AdminComponent;}(React.Component);export{AdminComponent as default};","map":{"version":3,"sources":["D:/Users/swizzle1999/Documents/Programming/MERN/cm4025/client/src/components/AdminComponent.js"],"names":["React","Button","Navbar","Nav","NavbarBrand","Accordion","Modal","Card","Form","Row","AccordionToggle","Table","FontAwesomeIcon","faSignOutAlt","faBoxOpen","faCoins","styled","AddPackComponent","AdminPackListComponent","fetch","require","checkForLocalToken","Styles","div","Logo","img","Img","AdminComponent","props","handleInputChange","event","setState","packCode","target","value","handleSubmit","informationMessage","checkForLocalTokenNoUserObject","then","returnObject","token","state","method","headers","res","json","msg","packs","i","length","packArray","push","map","pack","code","name","rarityOdds","console","log","renderPacks","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Navbar from \"react-bootstrap/Navbar\";\r\nimport Nav from \"react-bootstrap/Nav\";\r\nimport NavbarBrand from \"react-bootstrap/NavbarBrand\";\r\nimport Accordion from \"react-bootstrap/Accordion\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport AccordionToggle from 'react-bootstrap/AccordionToggle';\r\nimport Table from 'react-bootstrap/Table';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faSignOutAlt } from '@fortawesome/free-solid-svg-icons'\r\nimport { faBoxOpen } from '@fortawesome/free-solid-svg-icons'\r\nimport { faCoins } from '@fortawesome/free-solid-svg-icons'\r\n\r\nimport styled from \"styled-components\";\r\n\r\nimport AddPackComponent from \"./AddPackComponent\";\r\nimport AdminPackListComponent from \"./AdminPackListComponent\";\r\n\r\nconst fetch = require(\"node-fetch\");\r\nconst checkForLocalToken = require(\"../utils/checkForLocalToken\");\r\n\r\n\r\nconst Styles = styled.div`\r\n.nav-link{\r\n    color: #FFFFFF !important;\r\n}\r\n\r\n.navbar{\r\n    background-color: #272727 !important;\r\n}\r\n`\r\n\r\nconst Logo = styled.img`\r\nheight: auto;\r\nwidth: 15%;\r\n`\r\n\r\nconst Img = styled.img`\r\n    height: auto;\r\n    width: 30%;\r\n`\r\n\r\nexport default class AdminComponent extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            packs: [],\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        checkForLocalToken.checkForLocalTokenNoUserObject()\r\n        .then(returnObject => {\r\n            if (returnObject != null){\r\n                fetch(\"/api/packs/?allPacks=true\", {method: \"GET\", headers:{\"accepts\": \"application/json\", \"x-auth-token\": returnObject.token}})\r\n                .then(res => res.json())\r\n                .then(async json => {\r\n                    if (json.packs){\r\n                        for (let i = 0; i < json.packs.length; i++){\r\n                            let packArray = this.state.packs\r\n                            packArray.push(json.packs[i]);\r\n                            this.setState({packs: packArray});\r\n                        }\r\n                    }\r\n                    \r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    renderPacks(packs) {\r\n        return packs.map(pack => <AdminPackListComponent key={pack.code} code={pack.code} name={pack.name} rarities={pack.rarityOdds}/>)\r\n    }\r\n\r\n    componentDidUpdate(){\r\n        console.log(this.state.packs)\r\n    }\r\n\r\n    handleInputChange = (event) =>{\r\n        this.setState({\r\n            packCode: event.target.value\r\n        })\r\n    }\r\n\r\n    handleSubmit = (event) => {\r\n        this.setState({\r\n            informationMessage: \"Processing...\",\r\n        })\r\n        checkForLocalToken.checkForLocalTokenNoUserObject()\r\n        .then(returnObject => {\r\n          if (returnObject != null){\r\n            this.setState({\r\n              token: returnObject.token,\r\n          })\r\n          }\r\n        })\r\n        .then(() => {\r\n            fetch(\"/api/packs/addpack/\" + this.state.packCode, {method: \"GET\", headers:{\"accepts\": \"application/json\", \"x-auth-token\": this.state.token}})\r\n            .then(res => res.json())\r\n            .then(json => {\r\n                this.setState({\r\n                    informationMessage: json.msg\r\n                })\r\n            });\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <AddPackComponent />\r\n                {this.renderPacks(this.state.packs)}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}