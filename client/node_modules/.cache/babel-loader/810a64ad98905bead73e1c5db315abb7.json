{"ast":null,"code":"import _taggedTemplateLiteral from\"D:\\\\Users\\\\swizzle1999\\\\Documents\\\\Programming\\\\MERN\\\\cm4025\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";import _classCallCheck from\"D:\\\\Users\\\\swizzle1999\\\\Documents\\\\Programming\\\\MERN\\\\cm4025\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\Users\\\\swizzle1999\\\\Documents\\\\Programming\\\\MERN\\\\cm4025\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"D:\\\\Users\\\\swizzle1999\\\\Documents\\\\Programming\\\\MERN\\\\cm4025\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"D:\\\\Users\\\\swizzle1999\\\\Documents\\\\Programming\\\\MERN\\\\cm4025\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"D:\\\\Users\\\\swizzle1999\\\\Documents\\\\Programming\\\\MERN\\\\cm4025\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";function _templateObject(){var data=_taggedTemplateLiteral([\"\\n    .col-sm-4 {\\n        padding-left: 0 !important;\\n    }\\n    \"]);_templateObject=function _templateObject(){return data;};return data;}import React from'react';import{BrowserRouter as Router,Route}from\"react-router-dom\";import'./App.css';import{render}from'@testing-library/react';import ReactCSSTransitionGroup from'react-addons-css-transition-group';import Container from\"react-bootstrap/Container\";import Col from\"react-bootstrap/Col\";import Row from\"react-bootstrap/Row\";import Accordion from\"react-bootstrap/Accordion\";import Card from\"react-bootstrap/Card\";import AccordionToggle from'react-bootstrap/AccordionToggle';import Button from'react-bootstrap/Button';import styled from\"styled-components\";import{getFromStorage,setInStorage}from\"./utils/storage\";//Component Imports\nimport NavbarComponent from'./components/NavbarComponent';import PlayerStatsComponent from'./components/PlayerStatsComponent';import LoginComponent from'./components/LoginComponent';import RegisterComponent from'./components/RegisterComponent';import PackListComponent from\"./components/PackListComponent\";import InventoryListComponent from\"./components/InventoryListComponent\";var checkForLocalToken=require(\"./utils/checkForLocalToken\");var fetch=require(\"node-fetch\");var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);function App(props){var _this;_classCallCheck(this,App);_this=_possibleConstructorReturn(this,_getPrototypeOf(App).call(this,props));_this.navbarComponentChildCallback=function(dataFromChild){if(dataFromChild.logOut){setInStorage(\"PokePacksOnline\",\"\");_this.setState({token:\"\",userObject:{}});}else if(dataFromChild.openPacks){_this.setState({rightPanelComponent:\"PackListComponent\"});}else if(dataFromChild.inventory){_this.setState({rightPanelComponent:\"InventoryListComponent\"});}};_this.leftPanelComponentChildCallback=function(dataFromChild){//if the child is telling the parent to load a new component\nif(dataFromChild.componentToLoad){_this.setState({leftPanelComponent:dataFromChild.componentToLoad});}//If the child wants to log a user in\nelse if(dataFromChild.login){fetch(\"/api/auth/\",{method:\"POST\",headers:{\"accepts\":\"application/json\",\"Content-Type\":\"application/json\"},body:JSON.stringify({\"email\":dataFromChild.email,\"password\":dataFromChild.password})}).then(function(res){return res.json();}).then(function(json){if(json.token){setInStorage(\"PokePacksOnline\",json.token);_this.setState({leftPanelComponent:\"PlayerStatsComponent\"});//Get token from local storage and then fetch the users details from the database which is then set in state\ncheckForLocalToken.checkForLocalToken().then(function(returnObject){if(returnObject!=null){_this.setState({token:returnObject.token,admin:returnObject.admin,userObject:returnObject.userObject});console.log(returnObject.admin);}});}else{console.log(\"Invalid credentials\");}});}//If the child wants to register a user\nelse if(dataFromChild.register){fetch(\"/api/users/\",{method:\"POST\",headers:{\"accepts\":\"application/json\",\"Content-Type\":\"application/json\"},body:JSON.stringify({\"username\":dataFromChild.username,\"email\":dataFromChild.email,\"password\":dataFromChild.password,\"confirmPassword\":dataFromChild.confirmPassword})}).then(function(res){return res.json();}).then(function(json){if(json.token){_this.setState({leftPanelComponent:\"LoginComponent\"});}else{console.log(\"Invalid credentials\");}});}};_this.state={time:Date.now(),packs:[],token:\"\",admin:false,userObject:{},leftPanelComponent:\"PlayerStatsComponent\",rightPanelComponent:\"PackListComponent\"};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;//Quick check to see if the user has an existing token\ncheckForLocalToken.checkForLocalToken().then(function(returnObject){if(returnObject!=null){_this2.setState({token:returnObject.token,admin:returnObject.admin,userObject:returnObject.userObject});}});//Fetch all the packs that exist in the database to be displayed\nfetch(\"/api/packs\",{method:\"GET\",headers:{\"accepts\":\"application/json\"}}).then(function(res){return res.json();}).then(function(json){for(var i=0;i<json.packs.length;i++){var packArray=_this2.state.packs;packArray.push(json.packs[i]);_this2.setState({packs:packArray});}});}//Function that is used to change what renders on the left panel\n},{key:\"leftPanelComponentToRender\",value:function leftPanelComponentToRender(){switch(this.state.leftPanelComponent){case\"LoginComponent\":return React.createElement(LoginComponent,{callbackToParent:this.leftPanelComponentChildCallback});case\"RegisterComponent\":return React.createElement(RegisterComponent,{callbackToParent:this.leftPanelComponentChildCallback});case\"PlayerStatsComponent\":if(this.state.token){return React.createElement(PlayerStatsComponent,{token:this.state.token,callbackToParent:this.leftPanelComponentChildCallback});}else{return React.createElement(LoginComponent,{callbackToParent:this.leftPanelComponentChildCallback});}}}},{key:\"rightPanelComponentToRender\",value:function rightPanelComponentToRender(){switch(this.state.rightPanelComponent){case\"PackListComponent\":return this.renderPacks(this.state.packs);case\"InventoryListComponent\":if(this.state.token){return this.renderUserPacks(this.state.packs);}else{this.setState({rightPanelComponent:\"PackListComponent\"});}//return <RegisterComponent callbackToParent={this.leftPanelComponentChildCallback}/>\n// case \"PlayerStatsComponent\":\n//   if(this.state.token){\n//     return <PlayerStatsComponent token={this.state.token} callbackToParent={this.leftPanelComponentChildCallback}/>  \n//   } else {\n//     return <LoginComponent callbackToParent={this.leftPanelComponentChildCallback}/>\n//   }\n}}},{key:\"renderPacks\",//Renders all the packs to the main screen\nvalue:function renderPacks(packs){return packs.map(function(pack){return React.createElement(PackListComponent,{key:pack.code,code:pack.code,name:pack.name,cards:pack.cards,cost:pack.cost});});}//Renders all the packs to the main screen\n},{key:\"renderUserPacks\",value:function renderUserPacks(packs){return packs.map(function(pack){return React.createElement(InventoryListComponent,{key:pack.code,code:pack.code,name:pack.name,cards:pack.cards});});}},{key:\"render\",value:function render(){var Styles=styled.div(_templateObject());var packs=this.state.packs;return React.createElement(\"div\",{className:\"App\",style:{backgroundColor:\"#121212\"}},React.createElement(Styles,null,React.createElement(NavbarComponent,{callbackToParent:this.navbarComponentChildCallback}),React.createElement(Row,{style:{margin:\"0 auto\"}},React.createElement(Col,{sm:4},this.leftPanelComponentToRender()),React.createElement(Col,{style:{marginTop:\"0.5rem\"},sm:8},React.createElement(Accordion,null,this.rightPanelComponentToRender())))));}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["D:/Users/swizzle1999/Documents/Programming/MERN/cm4025/client/src/App.js"],"names":["React","BrowserRouter","Router","Route","render","ReactCSSTransitionGroup","Container","Col","Row","Accordion","Card","AccordionToggle","Button","styled","getFromStorage","setInStorage","NavbarComponent","PlayerStatsComponent","LoginComponent","RegisterComponent","PackListComponent","InventoryListComponent","checkForLocalToken","require","fetch","App","props","navbarComponentChildCallback","dataFromChild","logOut","setState","token","userObject","openPacks","rightPanelComponent","inventory","leftPanelComponentChildCallback","componentToLoad","leftPanelComponent","login","method","headers","body","JSON","stringify","email","password","then","res","json","returnObject","admin","console","log","register","username","confirmPassword","state","time","Date","now","packs","i","length","packArray","push","renderPacks","renderUserPacks","map","pack","code","name","cards","cost","Styles","div","backgroundColor","margin","leftPanelComponentToRender","marginTop","rightPanelComponentToRender","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {BrowserRouter as Router, Route} from \"react-router-dom\";\nimport './App.css';\nimport { render } from '@testing-library/react';\nimport ReactCSSTransitionGroup from 'react-addons-css-transition-group';\nimport Container from \"react-bootstrap/Container\";\nimport Col from \"react-bootstrap/Col\";\nimport Row from \"react-bootstrap/Row\";\nimport Accordion from \"react-bootstrap/Accordion\";\nimport Card from \"react-bootstrap/Card\";\nimport AccordionToggle from 'react-bootstrap/AccordionToggle';\nimport Button from 'react-bootstrap/Button';\nimport styled from \"styled-components\";\n\nimport {\n  getFromStorage,\n  setInStorage\n} from \"./utils/storage\";\n\n//Component Imports\nimport NavbarComponent from './components/NavbarComponent';\nimport PlayerStatsComponent from './components/PlayerStatsComponent';\nimport LoginComponent from './components/LoginComponent';\nimport RegisterComponent from './components/RegisterComponent';\nimport PackListComponent from \"./components/PackListComponent\";\nimport InventoryListComponent from \"./components/InventoryListComponent\";\n\nconst checkForLocalToken = require(\"./utils/checkForLocalToken\");\n\nconst fetch = require(\"node-fetch\");\n\nclass App extends React.Component {\n  constructor(props){\n    super(props);\n\n    this.state = {\n      time: Date.now(),\n      packs: [],\n      token: \"\",\n      admin: false,\n      userObject: {},\n      leftPanelComponent: \"PlayerStatsComponent\",\n      rightPanelComponent: \"PackListComponent\",\n    }\n  }\n\n  componentDidMount(){\n    //Quick check to see if the user has an existing token\n    checkForLocalToken.checkForLocalToken()\n    .then(returnObject => {\n      if (returnObject != null){\n        this.setState({\n          token: returnObject.token,\n          admin: returnObject.admin,\n          userObject: returnObject.userObject,\n      })\n      }\n    })\n\n    //Fetch all the packs that exist in the database to be displayed\n    fetch(\"/api/packs\", {method: \"GET\", headers:{\"accepts\": \"application/json\"}})\n      .then(res => res.json())\n      .then(json => {\n        for (let i = 0; i < json.packs.length; i++){\n          let packArray = this.state.packs\n          packArray.push(json.packs[i]);\n          this.setState({packs: packArray});\n        }\n      })\n\n  }\n\n  //Function that is used to change what renders on the left panel\n  leftPanelComponentToRender(){\n    switch(this.state.leftPanelComponent){\n      case \"LoginComponent\":\n        return <LoginComponent callbackToParent={this.leftPanelComponentChildCallback}/>\n      case \"RegisterComponent\":\n        return <RegisterComponent callbackToParent={this.leftPanelComponentChildCallback}/>\n      case \"PlayerStatsComponent\":\n        if(this.state.token){\n          return <PlayerStatsComponent token={this.state.token} callbackToParent={this.leftPanelComponentChildCallback}/>  \n        } else {\n          return <LoginComponent callbackToParent={this.leftPanelComponentChildCallback}/>\n        }\n    }\n  }\n\n  rightPanelComponentToRender(){\n    switch(this.state.rightPanelComponent){\n      case \"PackListComponent\":\n        return this.renderPacks(this.state.packs)\n      case \"InventoryListComponent\":\n        if (this.state.token){\n          return this.renderUserPacks(this.state.packs)\n        } else {\n          this.setState({\n            rightPanelComponent: \"PackListComponent\",\n          })\n        }\n\n        //return <RegisterComponent callbackToParent={this.leftPanelComponentChildCallback}/>\n      // case \"PlayerStatsComponent\":\n      //   if(this.state.token){\n      //     return <PlayerStatsComponent token={this.state.token} callbackToParent={this.leftPanelComponentChildCallback}/>  \n      //   } else {\n      //     return <LoginComponent callbackToParent={this.leftPanelComponentChildCallback}/>\n      //   }\n    }\n  }\n\n  navbarComponentChildCallback = dataFromChild => {\n    if (dataFromChild.logOut){\n      setInStorage(\"PokePacksOnline\", \"\");\n      this.setState({\n        token: \"\",\n        userObject: {},\n      })\n    } else if (dataFromChild.openPacks){\n      this.setState({\n        rightPanelComponent: \"PackListComponent\",\n      })\n    }else if (dataFromChild.inventory){\n      this.setState({\n        rightPanelComponent: \"InventoryListComponent\",\n      })\n    }\n  }\n\n  //The callback all components that use the left panel use to communicate with the parent (this)\n  leftPanelComponentChildCallback = dataFromChild => {\n    //if the child is telling the parent to load a new component\n    if (dataFromChild.componentToLoad){\n      this.setState({\n        leftPanelComponent: dataFromChild.componentToLoad,\n      })\n    } \n    //If the child wants to log a user in\n    else if(dataFromChild.login) {\n      fetch(\"/api/auth/\", {method: \"POST\", headers:{\"accepts\": \"application/json\", \"Content-Type\": \"application/json\"}, body: JSON.stringify({\"email\": dataFromChild.email, \"password\": dataFromChild.password})})\n      .then(res => res.json())\n      .then(json => {\n        if (json.token){\n           setInStorage(\"PokePacksOnline\", json.token);\n           this.setState({\n            leftPanelComponent: \"PlayerStatsComponent\",\n            })\n          //Get token from local storage and then fetch the users details from the database which is then set in state\n          checkForLocalToken.checkForLocalToken()\n          .then(returnObject => {\n            if (returnObject != null){\n              this.setState({\n                token: returnObject.token,\n                admin: returnObject.admin,\n                userObject: returnObject.userObject,\n            })\n            console.log(returnObject.admin);\n            }\n          })\n        } else {\n          console.log(\"Invalid credentials\");\n        }\n      })\n    } \n    //If the child wants to register a user\n    else if (dataFromChild.register){\n      fetch(\"/api/users/\", {method: \"POST\", headers:{\"accepts\": \"application/json\", \"Content-Type\": \"application/json\"}, body: JSON.stringify({\"username\": dataFromChild.username, \"email\": dataFromChild.email, \"password\": dataFromChild.password, \"confirmPassword\": dataFromChild.confirmPassword})})\n      .then(res => res.json())\n      .then(json => {\n        if (json.token){\n           this.setState({\n             leftPanelComponent: \"LoginComponent\",\n           })\n        } else {\n          console.log(\"Invalid credentials\");\n        }\n      })\n    }\n\n  }\n\n  //Renders all the packs to the main screen\n  renderPacks(packs) {\n    return packs.map(pack => <PackListComponent key={pack.code} code={pack.code} name={pack.name} cards={pack.cards} cost={pack.cost} />)\n  }\n\n    //Renders all the packs to the main screen\n    renderUserPacks(packs) {\n      return packs.map(pack => <InventoryListComponent key={pack.code} code={pack.code} name={pack.name} cards={pack.cards}/>)\n    }\n\n  render() {\n    const Styles = styled.div`\n    .col-sm-4 {\n        padding-left: 0 !important;\n    }\n    `\n\n    const {packs} = this.state;\n    return (\n      <div className=\"App\" style={{backgroundColor: \"#121212\"}}>\n        <Styles>\n          <NavbarComponent callbackToParent={this.navbarComponentChildCallback}/>\n          <Row style={{margin: \"0 auto\"}}>\n            <Col sm={4}>\n              {this.leftPanelComponentToRender()}\n            </Col>\n            <Col style={{marginTop: \"0.5rem\"}} sm={8}>\n              <Accordion>\n                {this.rightPanelComponentToRender()}\n                {/* {this.renderPacks(this.state.packs)} */}\n              </Accordion>\n            </Col>\n          </Row>\n        </Styles>\n\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}